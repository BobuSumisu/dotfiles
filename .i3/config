set $mod                        Mod4
set $font                       Inconsolata
set $font_size                  10

set $terminal                   urxvt
set $web_browser                google-chrome
set $mail_client                icedove
set $vm_manager                 virtualbox
set $music_player               spotify
set $doc_viewer                 evince
set $file_manager               thunar

set $lock_command               $HOME/.bin/i3blurlock
set $suspend_command            systemctl suspend
set $hibernate_command          systemctl hibernate
set $reboot_command             systemctl reboot
set $shutdown_command           systemctl poweroff -i

set $volume_up                  pactl set-sink-volume @DEFAULT_SINK@ +5%
set $volume_down                pactl set-sink-volume @DEFAULT_SINK@ -5%
set $volume_mute                pactl set-sink-mute @DEFAULT_SINK@ toggle
set $volume_mic_mute            pactl set-source-mute @DEFAULT_SOURCE@ toggle

set $backlight_up               xbacklight -time 0 -steps 1 -inc 10
set $backlight_down             xbacklight -time 0 -steps 1 -dec 10

set $scrot                      scrot $HOME/pictures/scrot-$(date "+%Y-%m-%d-%H%M%S").png
set $scrot_focused              scrot -u $HOME/pictures/scrot-$(date "+%Y-%m-%d-%H%M%S").png
set $scrot_select               scrot -s $HOME/pictures/scrot-$(date "+%Y-%m-%d-%H%M%S").png

set $reload_statusbar           pkill -SIGUSR1 i3status

set $S_yellow                   #b58900
set $S_orange                   #cb4b16
set $S_red                      #dc322f
set $S_magenta                  #d33682
set $S_violet                   #6c71c4
set $S_blue                     #268bd2
set $S_cyan                     #2aa198
set $S_green                    #859900
set $S_base0                    #839496
set $S_base1                    #93a1a1
set $S_base2                    #eee8d5
set $S_base3                    #fdf6e3
set $S_base03                   #002b36
set $S_base02                   #073642
set $S_base01                   #586e75
set $S_base00                   #657b83

font                            pango:$font $font_size
default_orientation             horizontal
hide_edge_borders               both
new_window                      pixel 2

bindsym $mod+Return             exec $terminal
bindsym $mod+Shift+q            kill
bindsym $mod+d                  exec dmenu_run

bindsym $mod+p                  exec --no-startup-id $scrot
bindsym $mod+Shift+p            exec --no-startup-id $scrot_focused
bindsym $mod+Ctrl+p             exec --no-startup-id sleep 1 && $scrot_select

bindsym $mod+j                  focus left
bindsym $mod+k                  focus down
bindsym $mod+l                  focus up
bindsym $mod+oslash             focus right

bindsym $mod+Shift+j            move left
bindsym $mod+Shift+k            move down
bindsym $mod+Shift+l            move up
bindsym $mod+Shift+oslash       move right

bindsym $mod+h                  split h
bindsym $mod+v                  split v
bindsym $mod+f                  fullscreen

bindsym $mod+s                  layout stacking
bindsym $mod+w                  layout tabbed
bindsym $mod+e                  layout toggle split

bindsym $mod+Shift+space        floating toggle
bindsym $mod+space              focus mode_toggle
bindsym $mod+a                  focus parent

bindsym $mod+r                  exec i3-input -F 'rename workspace to "%s"' -P 'New name '

bindsym $mod+1                  workspace 1
bindsym $mod+2                  workspace 2
bindsym $mod+3                  workspace 3
bindsym $mod+4                  workspace 4
bindsym $mod+5                  workspace 5
bindsym $mod+6                  workspace 6
bindsym $mod+7                  workspace 7
bindsym $mod+8                  workspace 8
bindsym $mod+9                  workspace 9
bindsym $mod+0                  workspace 10

bindsym $mod+Shift+1            move container to workspace 1
bindsym $mod+Shift+2            move container to workspace 2
bindsym $mod+Shift+3            move container to workspace 3
bindsym $mod+Shift+4            move container to workspace 4
bindsym $mod+Shift+5            move container to workspace 5
bindsym $mod+Shift+6            move container to workspace 6
bindsym $mod+Shift+7            move container to workspace 7
bindsym $mod+Shift+8            move container to workspace 8
bindsym $mod+Shift+9            move container to workspace 9
bindsym $mod+Shift+0            move container to workspace 10

bindsym $mod+Shift+c            reload
bindsym $mod+Shift+r            restart

bindsym XF86AudioLowerVolume    exec $volume_down       && $reload_statusbar
bindsym XF86AudioRaiseVolume    exec $volume_up         && $reload_statusbar
bindsym XF86AudioMute           exec $volume_mute       && $reload_statusbar
bindsym XF86AudioMicMute        exec $volume_mic_mute   && $reload_statusbar

bindsym XF86MonBrightnessDown   exec $backlight_down
bindsym XF86MonBrightnessUp     exec $backlight_up
bindsym Shift+Ctrl+l            mode "$meta_mode"
bindsym $mod+q                  mode "$quicklaunch_mode"
bindsym Shift+space             mode "$keyboard_mode"

bindsym $mod+c                  exec --no-startup-id $HOME/.bin/mousecol

# class                     # border        # background    # foreground    # indicator
client.focused              $footer         $S_base02       $S_base0        $S_red
client.focused_inactive     $S_base03       $S_base02       $S_base0        $S_red
client.unfocused            $S_base03       $S_base03       $S_base01       $S_red
client.urgent               $S_base03       $S_base03       $S_base01       $S_red
client.background           $S_base03

bar {
    status_command i3status

    colors {
        background              $S_base02
        statusline              $S_base1
        separator               $S_base01

        # class                 # border    # background    # foreground
        focused_workspace       $S_base02   $S_base03       $S_base0
        active_workspace        $S_base02   $S_base02       $S_base0
        inactive_workspace      $S_base02   $S_base02       $S_base0
        urgent_workspace        $S_base02   $S_base02       $S_base0
    }
}

set $meta_mode Meta: e(X)it i3, (l)ock screen, (H)ibernate, (S)uspend, (R)eboot, shut(D)own
mode "$meta_mode" {
    bindsym Shift+x exec i3-msg exit, mode "default"
    bindsym l exec --no-startup-id $lock_command, mode "default"
    bindsym Shift+s exec --no-startup-id $lock_command && sleep 1 && $suspend_command, mode "default"
    bindsym Shift+h exec --no-startup-id $lock_command && sleep 1 && $hibernate_command, mode "default"
    bindsym Shift+r exec --no-startup-id $reboot_command, mode "default"
    bindsym Shift+d exec --no-startup-id $shutdown_command, mode "default"

    bindsym Return mode "default"
    bindsym Escape mode "default"
}

set $quicklaunch_mode Quicklaunch: (w)eb, (m)ail, (v)m, mu(s)ic, (d)oc, (f)iles
mode "$quicklaunch_mode" {
  bindsym w exec --no-startup-id $web_browser, mode "default"
  bindsym m exec --no-startup-id $mail_client, mode "default"
  bindsym v exec --no-startup-id $vm_manager, mode "default"
  bindsym s exec --no-startup-id $music_player, mode "default"
  bindsym d exec --no-startup-id $doc_viewer, mode "default"
  bindsym f exec --no-startup-id $file_manager, mode "default"

  bindsym Return mode "default"
  bindsym Escape mode "default"
}

set $keyboard_mode Keyboard: (1) norwegian, (2) hebrew
mode "$keyboard_mode" {

    bindsym 1 exec --no-startup-id setxkbmap no, mode "default"
    bindsym 2 exec --no-startup-id setxkbmap il, mode "default"

    bindsym Return mode "default"
    bindsym Escape mode "default"
}

exec --no-startup-id xsetroot -solid "$S_base03"
exec --no-startup-id nm-applet
